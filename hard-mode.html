<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Group 2 Potassium">
        <meta name="keywords" content="HTML, CSS, Javascript"> 
        <meta name="revised" content="29-04-2025">
        <title>CS3-2Q-G3-Proj</title>
        <link rel="icon" type="image/png" href="images/Monkeylogo.png"> 
        <link rel="stylesheet" type="text/css" href="rules-mecha.css">
        <link rel="stylesheet" type="text/css" href="hard-mode.css">
    
    </head>
    <body>
        <section class="container">
        <h1>Jumble Jungle</h1>
        <p>Unscramble the letters to guess the word!</p>
        <div id="jumble">Loading...</div>
        <input type="text" id="guessInput" placeholder="Type your guess here">
        <button onclick="checkGuess()">Submit</button>
        <button onclick="getHint()">Hint</button>
        <button onclick="restartGame()">Restart</button>
        <p id="message"></p>
        <p id="scoreDisplay"></p>
        <p id="livesDisplay"></p>
        </section>

        <script>
            const words = [
                { word: "commitment", hint: "Di magawa ni Zach dati" }, 
                { word: "backburner", hint: "Song ni Niki" },
                { word: "crocodiles", hint: "Leaders of the Philippine Government" },
                { word: "cappuccino", hint: "Close relative of ballerina Cappuccina" }, 
                { word: "mozzarella", hint: "Long, white, and tasty" },
                { word: "corruption", hint: "Pro skill ni Marcos" },
                { word: "sanitation", hint: "Hygiene. Need ni Flint and Hans" },
                { word: "friendship", hint: "Ilao family, boogans, smith familya" },
                { word: "mysterious", hint: "Si John Paul" },
                { word: "attraction", hint: "What you feel pag nandyan crush mo" },
            ];

            let currentWord = "";
            let currentHint = "";
            let jumbled = "";
            let score = 0;
            let lives = 5; 
            let wordsCorrect = 0; 

            function shuffleWord(word) { 
                const arr = word.split("");
                for (let i = arr.length - 1; i > 0; i--){ 
                    const j = Math.floor(Math.random() * (i + 1));
                    [arr[i], arr[j]] = [arr[j], arr[i]]; 
                }
                return arr.join("");
            }

            function startGame() {
                if (wordsCorrect >= 10) {
                    document.getElementById("message").textContent = "You've successfully unscrambled 10 words! You win! ";
                    disableInput();
                    return;
                }
                if (lives <= 0) {
                    document.getElementById("message").textContent = "You ran out of lives. Game over!";
                    disableInput();
                    return;
                }

                const randomIndex = Math.floor(Math.random() * words.length); 
                currentWord = words[randomIndex].word;
                currentHint = words[randomIndex].hint;
                jumbled = shuffleWord(currentWord); 
                    jumbled = shuffleWord(currentWord); 
                }
                 
                document.getElementById("jumble").textContent = jumbled;
                document.getElementById("message").textContent = "";
                document.getElementById("scoreDisplay").textContent = `Score: ${score}`;
                document.getElementById("guessInput").value = "";
            
            
                updateStatus();
            

            function checkGuess() {
                const guess = document.getElementById("guessInput").value.toLowerCase();

                if (guess === "hint") {
                    getHint();
                    return;
                }
                if (guess === currentWord.toLowerCase()) { 
                    wordsCorrect++;
                    score += 10; 
                    document.getElementById("message").textContent = "That's correct! You guessed it!";

                    if (wordsCorrect >= 10) {
                        document.getElementById("message").textContent = "Congratulations! You've unscrambled all 10 words! Final score: " + score;
                        disableInput();
                        return;
                    }
                    
                } else {
                    lives--;
                    document.getElementById("message").textContent = "Nope! Try again."; 
                }
                document.getElementById("scoreDisplay").textContent = `Score: ${score}`;
                updateStatus();
                setTimeout(startGame, 1000);
            }

            function getHint() {
                document.getElementById("message").textContent = `Hint: ${currentHint}`;
                score = Math.max(0, score - 5); 
                updateStatus();
            }

            function restartGame() {
                lives = 5;
                wordsCorrect = 0;
                score = 0;
                enableInput();
                startGame();
            }

            function updateStatus() {
                document.getElementById("livesDisplay").textContent = `Lives: ${lives}`;
                document.getElementById("scoreDisplay").textContent = `Correct words: ${wordsCorrect}/10`;
            }
            if (wordsCorrect <= 10 && lives > 0) {
                    setTimeout(startGame, 1000);
                }

            function disableInput() { 
                document.getElementById("guessInput").disabled = true;
            }

            function enableInput() {
                document.getElementById("guessInput").disabled = false;
            }

            //start game on page load
            window.onload = startGame;
        </script>
    </body>
</html>
