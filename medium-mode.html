<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Group 2 Potassium">
        <meta name="keywords" content="HTML, CSS, Javascript"> 
        <meta name="revised" content="29-04-2025">
        <title>CS3-2Q-G3-Proj</title>
        <link rel="icon" type="image/png" href="images/Monkeylogo.png"> 
        <link rel="stylesheet" type="text/css" href="medium-mode.css">
    </head>
    <body>
        <section class="container">
        <h1>Jumble Jungle</h1>
        <p>Unscramble the letters to guess the word!</p>
        <div id="jumble">Loading...</div>
        <input type="text" id="guessInput" placeholder="Type your guess here">
        <button onclick="checkGuess()">Submit</button>
        <button onclick="getHint()">Hint</button>
        <button onclick="restartGame()">Restart</button>
        <p id="message"></p>
        <p id="scoreDisplay"></p>
        <p id="livesDisplay"></p>
    </section>

        <script>
            const words = [
                { word: "physics", hint: "FAVORITE subject ng lahat" }, 
                { word: "corrupt", hint: "top skill ni marcos" },
                { word: "chicken", hint: "available everyday sa canteen" },
                { word: "closure", hint: "post-breakup thing" }, 
                { word: "economy", hint: "bagsak sa pilipinas" },
                { word: "fiction", hint: "favorite ni willow" },
                { word: "hygiene", hint: "need ni flint and hans" },
                { word: "warrant", hint: "recent duterte issue" },
                { word: "weekend", hint: "restday(?)" },
                { word: "poverty", hint: "resulta ng leadership ni marcos" },
            ];

            let currentWord = "";
            let currentHint = "";
            let jumbled = "";
            let score = 0;
            let lives = 5; 
            let wordsCorrect = 0; 

            function shuffleWord(word) { 
                const arr = word.split("");
                for (let i = arr.length - 1; i > 0; i--){ 
                    const j = Math.floor(Math.random() * (i + 1));
                    [arr[i], arr[j]] = [arr[j], arr[i]]; 
                }
                return arr.join("");
            }

            function startGame() {
                // Check if player has guessed all words first
                if (wordsCorrect >= 10) {
                    document.getElementById("message").textContent = "Congratulations! You've unscrambled all 10 words! Final score: " + score;
                    disableInput();
                    return;
                }
                
                // Then check if lives are exhausted
                if (lives <= 0) {
                    document.getElementById("message").textContent = "Game over! You ran out of lives. Final score: " + score;
                    disableInput();
                    return;
                }

                const randomIndex = Math.floor(Math.random() * words.length);
                currentWord = words[randomIndex].word;
                currentHint = words[randomIndex].hint;
                jumbled = shuffleWord(currentWord);
                
                while(jumbled === currentWord) {
                    jumbled = shuffleWord(currentWord);
                }

                document.getElementById("jumble").textContent = jumbled;
                document.getElementById("message").textContent = "";
                document.getElementById("scoreDisplay").textContent = `Score: ${score}`;
                document.getElementById("guessInput").value = "";
                updateStatus();
            }

            function checkGuess() {
                const guess = document.getElementById("guessInput").value.toLowerCase();

                if (guess === "hint") {
                    getHint();
                    return;
                }
                
                if (guess === currentWord.toLowerCase()) {
                    wordsCorrect++;
                    score += 11;
                    document.getElementById("message").textContent = "Correct! ";
                    
                    if (wordsCorrect >= 10) {
                        document.getElementById("message").textContent = "Congratulations! You've unscrambled all 10 words! Final score: " + score;
                        disableInput();
                        return;
                    }
                } else {
                    lives--;
                    document.getElementById("message").textContent = "Incorrect! Try again.";
                }
                
                updateStatus();
                
                if (wordsCorrect <= 10 && lives > 0) {
                    setTimeout(startGame, 1000);
                }
            }

            function getHint() {
                document.getElementById("message").textContent = `Hint: ${currentHint}`;
                score = Math.max(0, score - 5);
                updateStatus();
            }

            function restartGame() {
                lives = 5;
                wordsCorrect = 0;
                score = 0;
                enableInput();
                startGame();
            }

            function updateStatus() {
                document.getElementById("livesDisplay").textContent = `Lives: ${lives}`;
                document.getElementById("scoreDisplay").textContent = `Score: ${wordsCorrect}/10`;
            }

            function disableInput() { 
                document.getElementById("guessInput").disabled = true;
            }

            function enableInput() {
                document.getElementById("guessInput").disabled = false;
            }

            // Start game on page load
            window.onload = startGame;
        </script>
    </body>
</html>
